<div class="container">
    <h1>Exercise: {{exercise.name}}</h1>

    <div class="col-xs-12 col-sm-8 ">
        <form *ngIf="active" (ngSubmit)="onSubmit()" #exerciseForm="ngForm">
            <div class="row">
                <div class="form-group col-xs-6 col-md-3">
                    <label for="name">Status</label>
                    <select class="form-control" required [(ngModel)]="exercise.status" name="status">
                        <option *ngFor="let o of statusOptions" [value]="o.key" [label]="o.value"></option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-xs-12 col-md-10">
                    <label for="name">Name</label>
                    <input type="text" class="form-control" required [(ngModel)]="exercise.name" name="name" #name="ngModel">
                    <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                        Name is required
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-xs-6 col-md-3">
                    <label for="muscle">Muscle</label>
                    <select class="form-control" required [(ngModel)]="exercise.muscle" name="muscle">
                        <option *ngFor="let o of muscleOptions" [value]="o.id" [label]="o.name"></option>
                    </select>
                </div>
                <div class="form-group col-xs-6 col-md-3">
                    <label for="target">Target</label>
                    <select class="form-control" required [(ngModel)]="exercise.target" name="target">
                        <option *ngFor="let o of targetOptions" [value]="o.key" [label]="o.value"></option>
                    </select>
                </div>
                <div class="form-group col-xs-6 col-md-3">
                    <label for="uom">Measure</label>
                    <select class="form-control" required [(ngModel)]="exercise.uom" name="uom">
                        <option *ngFor="let o of uomOptions" [value]="o.key" [label]="o.value"></option>
                    </select>
                </div>
                <div class="form-group col-xs-6 col-md-3">
                    <label for="experience">Experience</label>
                    <select class="form-control" required [(ngModel)]="exercise.experience" name="experience">
                        <option *ngFor="let o of experienceOptions" [value]="o.key" [label]="o.value"></option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-xs-12">
                    <label for="description">Description</label>
                    <textarea class="form-control" required [(ngModel)]="exercise.description" name="description"> </textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-2 control-label" for="Equipment">Equipment</label>

                <div class="col-md-10 columns">


                    <label class="checkbox-inline" [class.checked]="o.selected" *ngFor="let o of equipmentOptions" [attr.for]="o.name">
                        <input type="checkbox" name="equipmentList" [id]="o.name" [value]="o.id" [checked]="o.selected" (change)="selectEquipment(o)">
                        {{o.name}}
                    </label>


                </div>
            </div>

            <div class="form-group">
                <label class="col-md-2 control-label" for="tags">Tags</label>
                <div class="col-md-10 columns">
                    <tagControl  name="tags" [(ngModel)]="exercise.exerciseTags"></tagControl>
                </div>
            </div>
            <button type="submit" class="btn btn-default" [disabled]="!exerciseForm.form.valid">Save</button>
            <button type="button" class="btn btn-default" (click)="newExercise()">New Exercise</button>
        </form>
    </div>
</div>
{{diagnostic}}
<p>
    <button (click)="gotoExercises()">Back</button>
</p>

<!--http://www.avtex.com/blog/2015/02/10/bootstrap-radio-buttons-and-checkboxes-in-columns-with-contextual-text-fields/-->